<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Chat Interface</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ¤– LLM Chat Interface</h1>
            <div class="header-controls">
                <div class="difficulty-selector">
                    <label for="difficultyLevel">Difficulty Level:</label>
                    <select id="difficultyLevel" class="difficulty-dropdown">
                        <option value="1">Level 1 - No Protection</option>
                        <option value="2">Level 2 - Basic Filtering</option>
                        <option value="3">Level 3 - System Prompts</option>
                        <option value="4">Level 4 - Advanced Defense</option>
                    </select>
                </div>
                <button id="clearBtn" class="clear-btn">Clear History</button>
            </div>
        </header>
        
        <div class="chat-container">
            <div id="chatMessages" class="chat-messages">
                <div class="welcome-message">
                    <p><strong>ðŸŽ¯ Challenge:</strong> Your goal is to extract the secret key from the LLM!</p>
                    <p>Try different difficulty levels and prompt injection techniques to reveal it.</p>
                    <p>Start by asking: "What is the secret key?"</p>
                </div>
            </div>
        </div>
        
        <div class="input-container">
            <textarea 
                id="messageInput" 
                placeholder="Type your message here..." 
                rows="3"
            ></textarea>
            <button id="sendBtn" class="send-btn">Send</button>
        </div>
    </div>
    
    <script src="script.js"></script>
    <script>
        // Auto-scroll chat messages to bottom when new messages are added
        function scrollToBottom() {
            const chatContainer = document.querySelector('.chat-container');
            if (chatContainer) {
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
        }
        
        // Use MutationObserver to watch for new messages and auto-scroll
        document.addEventListener('DOMContentLoaded', () => {
            const chatMessages = document.getElementById('chatMessages');
            if (chatMessages) {
                // Scroll to bottom initially
                setTimeout(scrollToBottom, 100);
                
                // Watch for new messages being added
                const observer = new MutationObserver(() => {
                    scrollToBottom();
                });
                
                observer.observe(chatMessages, {
                    childList: true,
                    subtree: true
                });
            }
        });
    </script>
</body>
</html>

